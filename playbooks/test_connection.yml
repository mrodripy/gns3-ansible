---
- name: Test Connection to C7200 Router
  hosts: all
  gather_facts: no
  connection: ansible.netcommon.network_cli

  tasks:
    - name: Get router basic information
      cisco.ios.ios_command:
        commands:
          - show version | include Version
          - show clock
          - show ip interface brief | include FastEthernet0/0
      register: router_info

    - name: Display router information
      debug:
        msg: |
          âœ… Connection successful!
          Version: {{ router_info.stdout_lines[0][0] if router_info.stdout_lines[0] else 'N/A' }}
          Time: {{ router_info.stdout_lines[1][0] if router_info.stdout_lines[1] else 'N/A' }}
          Interface: {{ router_info.stdout_lines[2][0] if router_info.stdout_lines[2] else 'N/A' }}
